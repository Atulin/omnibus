var app=new Vue({delimiters:["${","}"],el:"#login",data:{errors:[],login:null,pass:null,remember:null,has_mfa:!1,avatar:null,validated:!0,mfa:null,msg_shown:!0},methods:{checkForm:function(c){var a=this;c.preventDefault();this.msg_shown=this.validated=!1;var e=document.getElementById("token").value,d=document.getElementById("login");this.errors=[];this.login||this.errors.push("Name required.");this.pass||this.errors.push("Password required.");0>=this.errors.length&&axios.get("/login/validate",{params:{login:this.login,
token:e}}).then(function(b){!0===b.data.data.mfa?(a.avatar=b.data.data.avatar,a.has_mfa=b.data.data.mfa,a.mfa?d.submit():c.preventDefault()):d.submit()}).catch(function(b){console.error(b);a.errors=[];a.errors.push("Incorrect token. Refresh the page.")}).then(function(){a.validated=!0})}}});
