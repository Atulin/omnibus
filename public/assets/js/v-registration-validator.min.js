var app=new Vue({delimiters:["${","}"],el:"#register",data:{errors:[],name:null,email:null,tos:null,pass1:null,pass2:null},methods:{checkForm:function(c){var b=this;c.preventDefault();c=document.getElementById("token").value;var d=document.getElementById("register");this.errors=[];this.name||this.errors.push("Name required.");this.email||this.errors.push("Email required.");this.pass1!==this.pass2&&this.errors.push("Passwords are different.");10>this.pass1.length&&this.errors.push("Password has to be at least 10 characters long.");
/[_\W]/g.test(this.pass1)||this.errors.push("Password needs at least one special character.");/[_0-9]/g.test(this.pass1)||this.errors.push("Password needs at least one number.");/[_A-Z]/g.test(this.pass1)||this.errors.push("Password needs at least one capital letter.");this.tos||this.errors.push("You need to agree to terms of service.");this.name&&this.email&&axios.get("/register/validate",{params:{name:this.name,email:this.email,token:c}}).then(function(a){a.data.data.name||b.errors.push("Name already in use.");
a.data.data.email||b.errors.push("Email already in use.");a.data.data.is_email||b.errors.push("Not a valid email address.");0>=b.errors.length&&d.submit()}).catch(function(a){console.error(a)})}}});
