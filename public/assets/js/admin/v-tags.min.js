var app=new Vue({delimiters:["${","}"],el:"#v-app",data:{errors:[],modal:!1,isLoading:!0,canDelete:!1,id:null,name:null,description:null,token:null,tags:null},methods:{toggleModal:function(a){a&&a.stopPropagation();this.modal=!this.modal;!this.modal&&this.id&&(this.id=this.name=this.image=this.description=null)},createTag:function(a){var b=this;a.preventDefault();this.isLoading=!0;a=document.getElementById("token").value;if(this.id){var c=new FormData;c.append("id",this.id);c.append("name",this.name);
c.append("description",this.description);c.append("token",a);axios.post("/admin/tags/update",c).then(function(a){b.fetchTags();b.modal=!1}).catch(function(a){console.error(a);b.isLoading=!1})}else c=new FormData,c.append("name",this.name),c.append("description",this.description),c.append("token",a),axios.post("/admin/tags/create",c).then(function(a){b.fetchTags();b.modal=!1}).catch(function(a){console.error(a);b.isLoading=!1})},deleteTag:function(a){var b=this;if(this.canDelete){this.isLoading=!0;
var c=document.getElementById("token").value,d=new FormData;d.append("id",a.id);d.append("token",c);axios.post("/admin/tags/delete",d).then(function(a){console.log(a);b.fetchTags()}).catch(function(a){console.error(a);b.isLoading=!1}).then(function(){b.canDelete=!1})}else this.canDelete=!0},editTag:function(a){console.log(a);this.id=a.id;this.name=a.name;this.description=a.description;this.toggleModal()},fetchTags:function(a){var b=this;this.isLoading=!0;axios.get("/admin/tags/fetch").then(function(a){b.tags=
a.data.data;console.log(a.data.data);b.isLoading=!1})}},mounted:function(){this.fetchTags()}});
