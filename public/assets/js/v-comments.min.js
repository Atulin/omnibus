var limit=140,app=new Vue({delimiters:["${","}"],el:"#comments",data:{error:null,comment_body:"",chars_left:limit,comments_list:[]},methods:{sendComment:function(a){var b=this;a.preventDefault();a=document.getElementById("token").value;if(this.comment_body.length>limit)this.error="Your message is "+Math.abs(this.chars_left)+" characters too long";else return axios.post("/api/comments",{body:this.comment_body,token:a}).then(function(a){console.log(a);b.comments_list.push({user:"A",body:"aaaa",date:"a.a.a"});
b.comments_list.push({user:"B",body:"bbbb",date:"b.b.b"})}).catch(function(a){console.error(a)}),!0}},computed:{charsLeft:function(){var a=this.comment_body.length;this.chars_left=limit-a;this.error=this.comment_body.length>limit?"Your message is "+Math.abs(this.chars_left)+" characters too long":null;return limit-a}}});
